# expect: 24
# Chain Result operations with type inference

type MyRes[E, T] = MyResOk(T) | MyResErr(E)

myResMap[E, A, B](r: MyRes[E, A], f: A -> B) -> MyRes[E, B] = match r {
    MyResOk(x) -> MyResOk(f(x))
    MyResErr(e) -> MyResErr(e)
}

myResUnwrap[E, T](r: MyRes[E, T], default: T) -> T = match r {
    MyResOk(x) -> x
    MyResErr(_) -> default
}

main() = {
    r: MyRes[String, Int] = MyResOk(6)
    mapped = myResMap(r, x => x * 4)
    myResUnwrap(mapped, 0)
}
