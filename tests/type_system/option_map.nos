# expect: 84
# Option map with typed result (uses stdlib Option)

mapOpt(f, opt) = match opt {
    Some(x) -> Some(f(x))
    None -> None
}

unwrapOpt(opt) = match opt {
    Some(x) -> x
    None -> 0
}

main() = {
    maybe: Option[Int] = Some(42)
    doubled: Option[Int] = mapOpt(x => x * 2, maybe)
    unwrapOpt(doubled)
}
