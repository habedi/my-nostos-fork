# expect: 0
# Test String.split and String.join

main() = {
    # Test split
    parts = String.split("hello,world,foo", ",")
    assert_eq(3, length(parts))
    assert_eq("hello", head(parts))
    assert_eq("world", head(tail(parts)))
    assert_eq("foo", head(tail(tail(parts))))

    # Test join
    joined = String.join(["a", "b", "c"], "-")
    assert_eq("a-b-c", joined)

    # Test roundtrip
    original = "one:two:three"
    split_parts = String.split(original, ":")
    rejoined = String.join(split_parts, ":")
    assert_eq(original, rejoined)

    # Test empty cases
    empty_join = String.join([], ",")
    assert_eq("", empty_join)

    single_join = String.join(["only"], ",")
    assert_eq("only", single_join)

    # Test split with no delimiter found
    no_split = String.split("hello", ",")
    assert_eq(1, length(no_split))
    assert_eq("hello", head(no_split))

    # Test split on empty string
    empty_split = String.split("", ",")
    assert_eq(1, length(empty_split))
    assert_eq("", head(empty_split))

    0
}
