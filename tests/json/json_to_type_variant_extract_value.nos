# expect: 42
# Test jsonToType with variant and extract value
use stdlib.json.{jsonParse, jsonStringify}
type Status = Success(Int) | Failure(String)

getValue(Success(n)) = n
getValue(Failure(_)) = 0

main() = {
    json = jsonParse("{\"Success\": 42}")
    r = jsonToType[Status](json)
    getValue(r)
}
