# expect: true

type Status = Success(Int) | Failure(String)

main() = {
    # Unit variant with positional field
    ok_fields = %{"_0": Number(42.0)}
    result_ok = makeVariant[Status]("Success", ok_fields)

    err_fields = %{"_0": String("error message")}
    result_err = makeVariant[Status]("Failure", err_fields)

    # Check the variants
    check_ok = match result_ok {
        Success(n) -> n == 42
        Failure(_) -> false
    }

    check_err = match result_err {
        Success(_) -> false
        Failure(msg) -> msg == "error message"
    }

    check_ok && check_err
}
