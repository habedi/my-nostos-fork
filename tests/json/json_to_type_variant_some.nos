# expect: 100
# Test jsonToType with Some variant
use stdlib.json.{jsonParse, jsonStringify}

type Maybe = Just(Int) | Nothing

getOrDefault(Just(n)) = n
getOrDefault(Nothing) = 0

main() = {
    json = jsonParse("{\"Just\": 100}")
    opt = jsonToType[Maybe](json)
    getOrDefault(opt)
}
