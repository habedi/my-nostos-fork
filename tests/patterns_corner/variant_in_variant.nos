# expect: 42
# Variant containing variant (uses stdlib Option and Result)

# Nested: Result containing Option - use match expression
unwrapNestedOk(r) = match r {
    Ok(inner) -> match inner {
        Some(x) -> x
        None -> 0
    }
    Err(_) -> -1
}

main() = {
    assert_eq(10, unwrapNestedOk(Ok(Some(10))))
    assert_eq(0, unwrapNestedOk(Ok(None)))
    assert_eq(-1, unwrapNestedOk(Err("error")))
    42
}
